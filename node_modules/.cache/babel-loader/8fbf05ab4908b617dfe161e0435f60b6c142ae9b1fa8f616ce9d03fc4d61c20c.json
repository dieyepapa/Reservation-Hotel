{"ast":null,"code":"import _objectSpread from\"C:/Users/np/hotel-reservation/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/Users/np/hotel-reservation/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useState}from'react';import axios from'axios';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  max-width: 500px;\\n  margin: 0 auto;\\n  background: #fff;\\n  padding: 30px;\\n  border-radius: 12px;\\n  box-shadow: 0 0 12px rgba(0,0,0,0.1);\\n\"])));const Input=styled.input(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: block;\\n  width: 100%;\\n  padding: 10px;\\n  margin-bottom: 15px;\\n  border-radius: 8px;\\n  border: 1px solid #ccc;\\n\"])));const Button=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background-color: #3498db;\\n  color: white;\\n  padding: 12px 20px;\\n  border: none;\\n  border-radius: 8px;\\n  cursor: pointer;\\n\"])));function HotelForm(){const[formData,setFormData]=useState({nom:'',description:'',prix:'',disponibilite:true// booléen par défaut\n});const[file,setFile]=useState(null);// Gère les champs texte/checkbox\nconst handleChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));};// Gère le fichier image sélectionné\nconst handleFileChange=e=>{setFile(e.target.files[0]);};const handleSubmit=async e=>{e.preventDefault();try{let imageUrl='';// Upload image si fichier sélectionné\nif(file){const imageData=new FormData();imageData.append('image',file);const uploadRes=await axios.post('http://localhost:5000/api/hotels/upload',imageData,{headers:{'Content-Type':'multipart/form-data'}});imageUrl=uploadRes.data.imageUrl;}// Préparation données à envoyer\nconst hotelData={nom:formData.nom,description:formData.description,prix:Number(formData.prix),// convertir en nombre\ndisponibilite:formData.disponibilite,// booléen depuis checkbox\nimage:imageUrl};await axios.post('http://localhost:5000/api/hotels',hotelData);alert(\"✅ Hôtel enregistré avec succès !\");setFormData({nom:'',description:'',prix:'',disponibilite:true});setFile(null);}catch(error){var _error$response;console.error(\"Erreur : \",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);alert(\"Erreur lors de l’enregistrement de l’hôtel\");}};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ajouter un H\\xF4tel\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{name:\"nom\",placeholder:\"Nom\",value:formData.nom,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{name:\"description\",placeholder:\"Description\",value:formData.description,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{name:\"prix\",type:\"number\",placeholder:\"Prix\",value:formData.prix,onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"label\",{children:[\" Disponibilit\\xE9 :\",' ',/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"disponibilite\",checked:formData.disponibilite,onChange:handleChange})]}),/*#__PURE__*/_jsx(Input,{type:\"file\",accept:\"image/*\",onChange:handleFileChange,required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Enregistrer un h\\xF4tel\"})]})]});}export default HotelForm;","map":{"version":3,"names":["React","useState","axios","styled","jsx","_jsx","jsxs","_jsxs","FormContainer","div","_templateObject","_taggedTemplateLiteral","Input","input","_templateObject2","Button","button","_templateObject3","HotelForm","formData","setFormData","nom","description","prix","disponibilite","file","setFile","handleChange","e","name","value","type","checked","target","prev","_objectSpread","handleFileChange","files","handleSubmit","preventDefault","imageUrl","imageData","FormData","append","uploadRes","post","headers","data","hotelData","Number","image","alert","error","_error$response","console","response","message","children","onSubmit","placeholder","onChange","required","accept"],"sources":["C:/Users/np/hotel-reservation/src/components/HotelForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\n\r\nconst FormContainer = styled.div`\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n  background: #fff;\r\n  padding: 30px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 0 12px rgba(0,0,0,0.1);\r\n`;\r\n\r\nconst Input = styled.input`\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin-bottom: 15px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ccc;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: #3498db;\r\n  color: white;\r\n  padding: 12px 20px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n`;\r\n\r\nfunction HotelForm() {\r\n  const [formData, setFormData] = useState({\r\n    nom: '',\r\n    description: '',\r\n    prix: '',\r\n    disponibilite: true, // booléen par défaut\r\n  });\r\n  const [file, setFile] = useState(null);\r\n\r\n  // Gère les champs texte/checkbox\r\n  const handleChange = e => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value,\r\n    }));\r\n  };\r\n\r\n  // Gère le fichier image sélectionné\r\n  const handleFileChange = e => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let imageUrl = '';\r\n\r\n      // Upload image si fichier sélectionné\r\n      if (file) {\r\n        const imageData = new FormData();\r\n        imageData.append('image', file);\r\n\r\n        const uploadRes = await axios.post('http://localhost:5000/api/hotels/upload', imageData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        imageUrl = uploadRes.data.imageUrl;\r\n      }\r\n\r\n      // Préparation données à envoyer\r\n      const hotelData = {\r\n        nom: formData.nom,\r\n        description: formData.description,\r\n        prix: Number(formData.prix),           // convertir en nombre\r\n        disponibilite: formData.disponibilite, // booléen depuis checkbox\r\n        image: imageUrl,\r\n      };\r\n\r\n      await axios.post('http://localhost:5000/api/hotels', hotelData);\r\n      alert(\"✅ Hôtel enregistré avec succès !\");\r\n      setFormData({ nom: '', description: '', prix: '', disponibilite: true });\r\n      setFile(null);\r\n    } catch (error) {\r\n      console.error(\"Erreur : \", error.response?.data || error.message);\r\n      alert(\"Erreur lors de l’enregistrement de l’hôtel\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h2>Ajouter un Hôtel</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <Input name=\"nom\" placeholder=\"Nom\" value={formData.nom} onChange={handleChange} required />\r\n        <Input name=\"description\" placeholder=\"Description\" value={formData.description} onChange={handleChange} required/>\r\n        <Input name=\"prix\" type=\"number\" placeholder=\"Prix\" value={formData.prix} onChange={handleChange} required />\r\n        <label> Disponibilité :{' '}\r\n          <input type=\"checkbox\" name=\"disponibilite\" checked={formData.disponibilite} onChange={handleChange} />\r\n        </label>\r\n        <Input type=\"file\" accept=\"image/*\" onChange={handleFileChange} required />\r\n        <Button type=\"submit\">Enregistrer un hôtel</Button>\r\n      </form>\r\n    </FormContainer>\r\n  );\r\n}\r\n\r\nexport default HotelForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}